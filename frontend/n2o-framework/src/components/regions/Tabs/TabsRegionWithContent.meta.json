{
  "src": "TabsRegion",
  "alwaysRefresh": true,
  "lazy": true,
  "items": [
    {
      "id": "tab1",
      "opened": true,
      "fetchOnInit": true,
      "widgetId": "Page_Html",
      "label": "HTML",
      "content": [
        {
            "dataProvider": {
              "url": "n2o/data/test",
              "pathMapping": {
              },
              "queryMapping": {
              }
            },
            "src": "FormWidget",
            "dependency": {},
            "toolbar": {
              "topLeft": [
                {
                  "buttons": [
                    {
                      "id": "update",
                      "label": "Сохранить",
                      "src": "PerformButton",
                      "actionId": "update",
                      "validate": false
                    }
                  ]
                }
              ]
            },
            "actions": {
              "update": {
                "src": "invoke",
                "options": {
                  "modelLink": "models.resolve['Page_Form']",
                  "confirm": true
                }
              }
            },
            "form": {
              "fetchOnInit": false,
              "prompt": false,
              "fieldDefaultValues": {
                "surname2": "moscow"
              },
              "filterDefaultValues": {
                "fetch": [
                  {
                    "bindLink": "models.resolve['Page_Table']"
                  }
                ]
              },
              "validation": {
                "name": [
                  {
                    "type": "required",
                    "severity": "danger",
                    "text": "Поле обязательно для заполнения"
                  },
                  {
                    "type": "condition",
                    "expression": "(name === 'test')",
                    "severity": "warning",
                    "text": "Имя должно быть test"
                  }
                ],
                "surname": [
                  {
                    "type": "constraint",
                    "validationKey": "validCheckSurname",
                    "severity": "success",
                    "text": "Доступная фамилия"
                  }
                ],
                "email": [
                  {
                    "type": "email",
                    "text": "Некорректный e-mail"
                  }
                ]
              },
              "fieldsets": [
                {

                  "src": "StandardFieldset",
                  "visible": "`x > 1`",
                  "enabled": "`y < 5`",
                  "dependency": [
                    {
                      "type": "re-render",
                      "on": [ "a.b.c", "z.x.c" ]
                    }
                  ],
                  "rows": [
                    {
                      "cols": [
                        {
                          "fields": [
                            {
                              "src": "StandardField",
                              "id": "surname",
                              "label": "Фамилия",
                              "required": true,
                              "help": "<p><strong>При вводе скрывается поле <span style='color: #ff0000;'>'Имя'</span>, чтобы поле появилось введите 'test'</strong></p>",
                              "control": {
                                "src": "InputText",
                                "length": 10
                              }
                            },
                            {
                              "src": "StandardField",
                              "id": "name",
                              "label": "Имя",
                              "help": "Или просто текст",
                              "control": {
                                "src": "InputText",
                                "length": 10
                              },
                              "dependency": [
                                {
                                  "type": "visible",
                                  "on": [
                                    "surname"
                                  ],
                                  "expression": "surname == 'test'"
                                }
                              ]
                            },
                            {
                              "src": "StandardField",
                              "id": "hideField",
                              "label": "Скрытое поле",
                              "control": {
                                "src": "InputText"
                              },
                              "dependency": [],
                              "visible": false
                            },
                            {
                              "src": "StandardField",
                              "id": "patrName",
                              "label": "Отчество",
                              "description": "Изначально заблокировано",
                              "control": {
                                "src": "InputText"
                              },
                              "dependency": [],
                              "enabled": false
                            }
                          ],
                          "fieldsets": [
                            {
                              "labelPosition": "top-left",
                              "src": "StandardFieldset",
                              "rows": [
                                {
                                  "cols": [
                                    {
                                      "fields": [
                                        {
                                          "src": "StandardField",
                                          "id": "dateInterval",
                                          "label": "Срок",
                                          "control": {
                                            "src": "DateInterval"
                                          }
                                        },
                                        {
                                          "src": "StandardField",
                                          "id": "name2",
                                          "label": "Пол",
                                          "control": {
                                            "src": "RadioGroup",
                                            "labelFieldId": "label",
                                            "type": "n2o",
                                            "data": [
                                              { "id": 1, "label": "Мужской" },
                                              { "id": 2, "label": "Женский" }
                                            ]
                                          }
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          },
        {
          "src": "TableWidget",
          "className": "n2o",
          "dataProvider": {
            "url": "n2o/data/test",
            "pathMapping": {
            },
            "queryMapping": {
              "filter.name": {
                "link": "models.filter['Page_Table'].name"
              },
              "filter.surname": {
                "link": "models.filter['Page_Table'].surname"
              }
            }
          },
          "toolbar": {
            "topRight": [
              {
                "id": "topRight0",
                "buttons": [
                  {
                    "id": "menuItem0",
                    "actionId": "menuItem0",
                    "hint": "Изменить видимость фильтров",
                    "src": "PerformButton",
                    "icon": "fa fa-filter"
                  },
                  {
                    "id": "menuItem1",
                    "icon": "fa fa-table",
                    "hint": "Изменить видимость колонок",
                    "src": "PerformButton",
                    "dropdownSrc": "ToggleColumn"
                  },
                  {
                    "id": "menuItem2",
                    "hint": "Обновить данные",
                    "src": "PerformButton",
                    "icon": "fa fa-refresh",
                    "actionId": "menuItem2"
                  },
                  {
                    "id": "menuItem3",
                    "icon": "fa fa-bars",
                    "hint": "Изменить размер",
                    "src": "PerformButton",
                    "dropdownSrc": "ChangeSize"
                  },
                  {
                    "id": "menuItem4",
                    "hint": "Экспортировать данные",
                    "icon": "fa fa-download",
                    "src": "PerformButton",
                    "actionId": "exportModal"
                  }
                ]
              }
            ]
          },
          "actions": {
            "menuItem0": {
              "src": "perform",
              "options": {
                "type": "n2o/widgets/TOGGLE_FILTER_VISIBILITY",
                "payload": {
                  "widgetId": "Page_Table"
                }
              }
            },
            "menuItem2": {
              "src": "perform",
              "options": {
                "type": "n2o/widgets/DATA_REQUEST",
                "payload": {
                  "widgetId": "Page_Table"
                }
              }
            },
            "exportModal": {
              "widgetId": "Page_Table",
              "src": "perform",
              "options": {
                "type": "n2o/overlays/INSERT",
                "payload": {
                  "widgetId": "Page_Table",
                  "type": "n2o/overlays/INSERT",
                  "name": "test2",
                  "src": "exportModal",
                  "title": "Экспортровать",
                  "size": "sm",
                  "visible": true,
                  "closeButton": false,
                  "actions": {
                    "export": {
                      "src": "exportTable",
                      "notification": {
                        "severity": "danger",
                        "text": "Это сообщение будет отображаться 10 секунд",
                        "timeout": 10000
                      },
                      "redirectTo": "/test",
                      "options": {
                        "widgetId": "Page_Table"
                      }
                    },
                    "destroyOverlay": {
                      "src": "perform",
                      "options": {
                        "type": "n2o/overlays/DESTROY"
                      }
                    }
                  },
                  "toolbar": [
                    {
                      "buttons": [
                        {
                          "id": "export",
                          "label": "Загрузить",
                          "actionId": "export",
                          "src": "PerformButton",
                          "className": "btn-primary",
                          "icon": "fa fa-download"
                        },
                        {
                          "id": "cancelExport",
                          "label": "Отменить",
                          "src": "PerformButton"
                        }
                      ]
                    }
                  ]
                }
              }
            }
          },
          "paging": {
            "size": 10,
            "prev": true,
            "next": true
          },
          "filter": {
            "filterPlace": "top",
            "filterFieldsets": [
              {
                "src": "StandardFieldset",
                "rows": [
                  {
                    "cols": [
                      {
                        "fields": [
                          {
                            "id": "testId",
                            "src": "StandardField",
                            "dependency": [],
                            "control": {
                              "id": "testId",
                              "src": "FilterButtonsField",
                              "searchLabel": "searchLabel",
                              "resetLabel": "resetLabel"
                            }
                          }
                        ]
                      }
                    ]
                  }
                ]
              }
            ],
            "filterButtonId": "filter",
            "blackResetList": [],
            "validation": {},
            "hideButtons": true
          },
          "table": {
            "size": 10,
            "fetchOnInit": true,
            "hasSelect": true,
            "rowClass": "`gender.id == 1 ? 'red' : gender.id == 2 ? 'blue' : gender.id == 3 ? 'white' : 'green'`",
            "style": {},
            "hasFocus": true,
            "autoFocus": false,
            "sorting": {
              "birthday": "ASC"
            },
            "cells": [
              {
                "src": "TextCell",
                "id": "name"
              },
              {
                "src": "IconCell",
                "id": "surname",
                "icon": "fa fa-plus",
                "type": "iconAndText",
                "textPlace": "right"
              },
              {
                "src": "TextCell",
                "id": "birthday"
              }
            ],
            "headers": [
              {
                "src": "TextTableHeader",
                "id": "name",
                "sortable": false,
                "label": "Имя",
                "width": "50"
              },
              {
                "src": "TextTableHeader",
                "id": "surname",
                "sortable": true,
                "label": "Фамилия"
              },
              {
                "src": "TextTableHeader",
                "id": "birthday",
                "sortable": true,
                "label": "Дата рождения"
              }
            ]
          }
        }
      ]
    },
    {
      "id": "tab2",
      "opened": false,
      "fetchOnInit": true,
      "widgetId": "Page_Html_2",
      "label": "HTML2",
      "content" : [
        {
          "id": "$testTableJson",
          "src": "CalendarWidget",
          "calendar": {
            "height": "500px",
            "date": "2020-06-10",
            "defaultView": "day",
            "views": [ "day", "week", "month", "agenda" ],
            "titleFieldId": "name",
            "tooltipFieldId": "tooltip",
            "allDayFieldId": "allDay",
            "startFieldId": "begin",
            "endFieldId": "end",
            "cellColorFieldId": "color",
            "disabledFieldId": "disabled",
            "markDaysOff": true,
            "onSelectSlot": {},
            "onSelectEvent": {},
            "selectable": true,
            "step": 60,
            "timeslots": 3,
            "formats": {},
            "actionOnSelectEvent": {
              "type": "n2o/button/Dummy"
            }
          }
        }
      ]
    }
  ]
}